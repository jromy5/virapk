## The directory of host application doesn't exist!
```
PluginDemo renyugang$ gradle clean assemblePlugin
Incremental java compilation is an incubating feature.

FAILURE: Build failed with an exception.

* What went wrong:
A problem occurred configuring project ':app'.
> The directory of host application doesn't exist!

* Try:
Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.

BUILD FAILED
```
错误分析：宿主工程的application模块的路径不存在，一般是指路径配错了

解决方式：
```
virtualApk {
    packageId = 0x6f
    targetHost = '../../VirtualAPK/app' // 检测这个路径是否正确，相对路径或者绝对路径都行
    applyHostMapping = true
}
```
## java.lang.ArrayIndexOutOfBoundsException: 2
```
PluginDemo renyugang$ gradle clean assemblePlugin
Caused by: java.lang.ArrayIndexOutOfBoundsException: 2
at com.didi.virtualapk.VAPlugin$_pickSplitEntries_closure8.doCall(VAPlug
in.groovy:188)
at com.didi.virtualapk.VAPlugin.pickSplitEntries(VAPlugin.groovy:186)
at com.didi.virtualapk.VAPlugin$_apply_closure1$_closure16.doCall(VAPlug
in.groovy:66)
at com.didi.virtualapk.VAPlugin$_apply_closure1.doCall(VAPlugin.groovy:5
2)
at org.gradle.listener.ClosureBackedMethodInvocationDispatch.dispatch(Cl
osureBackedMethodInvocationDispatch.java:40)
at org.gradle.listener.ClosureBackedMethodInvocationDispatch.dispatch(Cl
osureBackedMethodInvocationDispatch.java:25)

BUILD FAILED
```
错误分析：请检查dependencies中aar的依赖方式

解决方式：
按如下建议修改
```
dependencies {
    √ compile 'com.didi.virtualapk:core:0.9.0'
    √ compile project (":CoreLibrary")

    // group和version字段必须有
    √ compile(group:'test', name:'CoreLibrary-release', version:'0.1', ext:'aar')

    × releaseCompile 'com.didi.virtualapk:core:0.9.0'
    × compile(name:'CoreLibrary-release', ext:'aar')
}
```
## 编译插件时空指针
```
ResourceMerger### don't have any retained resources
:app:processShanghaiReleaseResources FAILED

FAILURE: Build failed with an exception.

* What went wrong:
Execution failed for task ':app:processShanghaiReleaseResources'.
> Cannot invoke method getAt() on null object
```

解决方式：请确保插件中至少有一个自己的资源

## Failed to notify project evaluation listener
```
* What went wrong:
A problem occurred configuring project ':app'.
> Failed to notify project evaluation listener.
   > com/android/builder/dependency/ManifestDependency
```
解决方式：修改Gradle和build tools的版本
```
构建环境建议：
Gradle                   2.14.1
com.android.tools.build  2.1.3
```
## java.lang.IllegalStateException: You need to use a Theme.AppCompat theme (or descendant) with this activity

解决方式：构建插件请使用```gradle assemblePlugin```，而不能直接通过AndroidStudio run出来一个插件apk。
## 关于Android M及以上版本SD卡的访问权限问题
从Android 6.0开始，系统采用了新的权限机制，为了保证插件的加载，请保证APP具有SD卡的访问权限。如果你的app没有在android 6.0上做足够的测试，请不要设置targetSdk为23。

## 关于Android M及以上版本动态申请权限问题
暂时不支持在插件中动态申请权限。
